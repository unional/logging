{"version":3,"file":"aurelia-logging-color.js","sources":["../node_modules/process-es6/browser.js","../../../../../../color-map/createColors.ts","../../../../../../color-map/createColorsFromMap.ts","../../../../../../color-map/rgbHex.ts","../../../../../../color-map/rgbaString.ts","../../../../../../aurelia-logging-color/AnsiBrush.ts","../../../../../../aurelia-logging-color/createBrush.ts","../node_modules/rollup-plugin-node-globals/src/global.js","../../../../../../aurelia-logging-color/environments.ts","../../../../../../aurelia-logging-color/colors.ts","../../../../../../color-map/index.ts","../../../../../../aurelia-logging-color/Ansi16mBrush.ts","../../../../../../aurelia-logging-color/CSSBrush.ts","../../../../../../aurelia-logging-color/ColorAppender.ts","../../../../../../aurelia-logging-color/index.ts"],"sourcesContent":["// shim for using process in browser\n// based off https://github.com/defunctzombie/node-process/blob/master/browser.js\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\nvar cachedSetTimeout = defaultSetTimout;\nvar cachedClearTimeout = defaultClearTimeout;\nif (typeof global.setTimeout === 'function') {\n    cachedSetTimeout = setTimeout;\n}\nif (typeof global.clearTimeout === 'function') {\n    cachedClearTimeout = clearTimeout;\n}\n\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\nexport function nextTick(fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n}\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nexport var title = 'browser';\nexport var platform = 'browser';\nexport var browser = true;\nexport var env = {};\nexport var argv = [];\nexport var version = ''; // empty string to avoid regexp issues\nexport var versions = {};\nexport var release = {};\nexport var config = {};\n\nfunction noop() {}\n\nexport var on = noop;\nexport var addListener = noop;\nexport var once = noop;\nexport var off = noop;\nexport var removeListener = noop;\nexport var removeAllListeners = noop;\nexport var emit = noop;\n\nexport function binding(name) {\n    throw new Error('process.binding is not supported');\n}\n\nexport function cwd () { return '/' }\nexport function chdir (dir) {\n    throw new Error('process.chdir is not supported');\n};\nexport function umask() { return 0; }\n\n// from https://github.com/kumavis/browser-process-hrtime/blob/master/index.js\nvar performance = global.performance || {}\nvar performanceNow =\n  performance.now        ||\n  performance.mozNow     ||\n  performance.msNow      ||\n  performance.oNow       ||\n  performance.webkitNow  ||\n  function(){ return (new Date()).getTime() }\n\n// generate timestamp or delta\n// see http://nodejs.org/api/process.html#process_process_hrtime\nexport function hrtime(previousTimestamp){\n  var clocktime = performanceNow.call(performance)*1e-3\n  var seconds = Math.floor(clocktime)\n  var nanoseconds = Math.floor((clocktime%1)*1e9)\n  if (previousTimestamp) {\n    seconds = seconds - previousTimestamp[0]\n    nanoseconds = nanoseconds - previousTimestamp[1]\n    if (nanoseconds<0) {\n      seconds--\n      nanoseconds += 1e9\n    }\n  }\n  return [seconds,nanoseconds]\n}\n\nvar startTime = new Date();\nexport function uptime() {\n  var currentTime = new Date();\n  var dif = currentTime - startTime;\n  return dif / 1000;\n}\n\nexport default {\n  nextTick: nextTick,\n  title: title,\n  browser: browser,\n  env: env,\n  argv: argv,\n  version: version,\n  versions: versions,\n  on: on,\n  addListener: addListener,\n  once: once,\n  off: off,\n  removeListener: removeListener,\n  removeAllListeners: removeAllListeners,\n  emit: emit,\n  binding: binding,\n  cwd: cwd,\n  chdir: chdir,\n  umask: umask,\n  hrtime: hrtime,\n  platform: platform,\n  release: release,\n  config: config,\n  uptime: uptime\n};\n","import { RGB, RGBA, Alpha } from './interfaces'\n\nexport function createColors(from: RGB, to: RGB, shades: number, alpha?: Alpha): RGBA[] {\n  const rgba: any[] = []\n  const start = [...from]\n  const diff = [\n    to[0] - from[0],\n    to[1] - from[1],\n    to[2] - from[2]\n  ]\n  if (alpha) {\n    start.push(alpha[0])\n    diff.push(alpha[1] - alpha[0])\n  }\n  for (let i = 0; i < shades; i++) {\n    const inc = 1 /\n      Math.max(shades - 1, 1)\n    const color = [\n      Math.round(start[0] + i * diff[0] * inc),\n      Math.round(start[1] + i * diff[1] * inc),\n      Math.round(start[2] + i * diff[2] * inc),\n      alpha ? start[3] + i * diff[3] * inc : 1\n    ]\n    rgba.push(color)\n  }\n  return rgba\n}\n","import { ColorMap, Alpha, RGBA, RGB } from './interfaces'\nimport { createColors } from './createColors'\n\n/**\n * Create colors with specified color map.\n */\nexport function createColorsFromMap(colormap: ColorMap, shades: number, alpha?: Alpha): RGBA[] {\n  if (shades < colormap.length) {\n    throw new Error(`Requires at least ${colormap.length} shades.`)\n  }\n\n  const result: RGBA[] = []\n  const steps: number[] = []\n  for (let i = 0; i < colormap.length; i++) {\n    steps.push(Math.round(colormap[i].index * shades))\n  }\n\n  for (let i = 0; i < colormap.length - 1; i++) {\n    const n = steps[i + 1] - steps[i]\n    const from: RGB = colormap[i].rgb;\n    const to = colormap[i + 1].rgb;\n    result.push(...createColors(from, to, n, alpha))\n  }\n\n  return result\n}\n","import { RGB } from './interfaces'\n\n/**\n * Convert `RGB` to `#rgb`\n * JavaScript note: no check for array length, use it properly.\n */\nexport function rgbHex(rgb: RGB) {\n  let hex = '#'\n  for (let i = 0; i < 3; i++) {\n    hex += d2h(rgb[i])\n  }\n  return hex\n}\n\nfunction d2h(d: number) {\n  let s = (+d).toString(16)\n  return s.length < 2 ? '0' + s : s\n}\n","import { RGBA } from './interfaces'\n\nexport function rgbaString(rgba: RGBA) {\n  return 'rgba(' + rgba.join(',') + ')';\n}\n","import { BrushOption, Brush } from './interfaces'\n\nexport class AnsiBrush implements Brush {\n  private count = 0\n  private codes: number[][]\n  private map: { [index: string]: number[] } = {}\n  private option: BrushOption\n\n  constructor(option: Partial<BrushOption> = {}) {\n    this.codes = calculatedCodes = calculatedCodes || createColorCodes()\n    this.option = {\n      maxColor: option.maxColor || this.codes.length,\n      coloringText: option.coloringText || false\n    }\n  }\n\n  public color(id: string, ...rest: string[]) {\n    const codes = this.getCodes(id)\n    return [this.wrapAnsi(id, codes), ...rest]\n  }\n\n  private getCodes(text: string) {\n    return this.map[text] = this.map[text] || this.codes[this.count++ % this.option.maxColor]\n  }\n\n  private wrapAnsi(id: string, codes: number[]) {\n    const code = codes.join(';')\n    if (codes.some(x => x > 40)) {\n      // Pad id when there is a background color in use.\n      id = ` ${id} `\n    }\n    return `\\u001B[${code}m${id}\\u001B[0m`\n  }\n}\n\n// Bright, dim, underscore\n// const styles = [1, 2, 4]\n// const foregroundColors = [31, 32, 33, 34, 35, 36]\nconst backgroundColors = [41, 42, 43, 44, 45, 46]\nlet calculatedCodes: number[][]\n\nfunction createColorCodes() {\n  let baseCodes: number[][] = backgroundColors.map(x => [x])\n\n  baseCodes.push(...backgroundColors.map(x => [x, 31]))\n  baseCodes.push(...backgroundColors.map(x => [x, 32]))\n  baseCodes.push(...backgroundColors.map(x => [x, 33]))\n  baseCodes.push(...backgroundColors.map(x => [x, 34]))\n  baseCodes.push(...backgroundColors.map(x => [x, 35]))\n  baseCodes.push(...backgroundColors.map(x => [x, 36]))\n\n  baseCodes = baseCodes.filter(x => x.length === 1 || x[0] !== x[1] + 10)\n\n  const brighten = baseCodes.map(x => [...x, 1])\n  const dimmed = baseCodes.map(x => [...x, 2])\n  const underscored = baseCodes.map(x => [...x, 4])\n  return [...baseCodes, ...brighten, ...dimmed, ...underscored]\n}\n","import { supportAnsiColor, supportCSSColor, supportAnsi16mColor } from './environments'\n\nimport { Brush, BrushOption } from './interfaces'\n\nimport { Ansi16mBrush } from './Ansi16mBrush'\nimport { AnsiBrush } from './AnsiBrush'\nimport { CSSBrush } from './CSSBrush'\n\nexport interface InternalBrushOption {\n  css: boolean\n  ansi16m: boolean\n  ansi: boolean\n}\n\nexport function createBrush(option: Partial<BrushOption> & Partial<InternalBrushOption> = {}) {\n  const css = option.css !== undefined ? option.css : supportCSSColor\n  const ansi16m = option.ansi16m !== undefined ? option.ansi16m : supportAnsi16mColor\n  const ansi = option.ansi !== undefined ? option.ansi : supportAnsiColor\n  if (css) {\n    return new CSSBrush(option)\n  }\n\n  if (ansi16m) {\n    return new Ansi16mBrush(option)\n  }\n\n  if (ansi) {\n    return new AnsiBrush(option)\n  }\n\n  return new PlainBrush()\n}\n\nexport class PlainBrush implements Brush {\n  color(id: string, ...rest: string[]) {\n    return [id, ...rest]\n  }\n}\n","export default typeof global !== \"undefined\" ? global :\n            typeof self !== \"undefined\" ? self :\n            typeof window !== \"undefined\" ? window : {}\n","import { release } from 'os'\n\nconst userAgent = typeof navigator !== 'undefined' ? navigator.userAgent : undefined\nconst vendor = typeof navigator !== 'undefined' ? navigator.vendor : undefined\n\nconst platform = typeof process !== 'undefined' ? process.platform : undefined\nconst majorVersion = parseInt(release().split('.')[0], 10)\n\n// alternatively check `!!window.chrome`\nconst isChrome = userAgent && vendor ? /Chrome/.test(userAgent) && /Google Inc/.test(vendor) : false\nconst isFirefox = userAgent ? /firefox/i.test(userAgent) : false\n\nconst isNode = typeof module !== 'undefined' && module.exports\nconst isWindow = platform ? /^win/.test(platform) : false\n\n// Not checking specific version support, but should work as\n// most people update their chrome and firefox.\nexport const supportCSSColor = isChrome || isFirefox\nexport const supportAnsiColor = isNode && (!isWindow || majorVersion <= 6)\n\n// Just assume Windows 10 Insider with 16m support is v7.\nexport const supportAnsi16mColor = isNode && (!isWindow || majorVersion > 6)\n","import { ColorMap } from 'color-map'\n\nexport const rainbow: ColorMap = [\n  { index: 0, rgb: [150, 0, 90] },\n  { index: 0.125, rgb: [0, 0, 200] },\n  { index: 0.25, rgb: [0, 25, 255] },\n  { index: 0.375, rgb: [0, 152, 255] },\n  { index: 0.5, rgb: [44, 255, 150] },\n  { index: 0.625, rgb: [151, 255, 0] },\n  { index: 0.75, rgb: [255, 234, 0] },\n  { index: 0.875, rgb: [255, 111, 0] },\n  { index: 1, rgb: [255, 0, 0] }\n]\n","export * from './createColors'\nexport * from './createColorsFromMap'\nexport * from './interfaces'\nexport * from './rgbHex'\nexport * from './rgbaString'\n","import { RGB, createColorsFromMap } from 'color-map'\n\nimport { rainbow } from './colors'\nimport { BrushOption, Brush } from './interfaces'\n\nexport class Ansi16mBrush implements Brush {\n  public color: (id: string, ...rest: string[]) => string[]\n  private count = 0\n  private colors: RGB[]\n  private map: { [index: string]: RGB } = {}\n  private option: BrushOption\n\n  constructor(option: Partial<BrushOption> = {}) {\n    this.option = {\n      maxColor: option.maxColor || 20,\n      coloringText: option.coloringText || false\n    }\n\n    // For background color, the light green make it hard to read text.\n    // Dim green a bit to make it more readable.\n    const colormap = this.option.coloringText ? rainbow : rainbow.map(m => {\n      return {\n        index: m.index,\n        rgb: [m.rgb[0], m.rgb[1] * 0.7, m.rgb[2]] as RGB\n      }\n    })\n\n    this.colors = createColorsFromMap(colormap, option.maxColor || 20)\n\n    this.color = this.option.coloringText ? this.colorAnsi16m : this.getAnsi16mBackgroundString\n  }\n\n  private getRgb(text: string) {\n    // It is ok to overlep color.\n    // Not trying to be too smart about it.\n    return this.map[text] = this.map[text] || this.colors[this.count++ % this.option.maxColor]\n  }\n  private colorAnsi16m(id: string, ...rest: string[]) {\n    const rgb = this.getRgb(id)\n    return [this.wrapAnsi16m(id, rgb), ...rest]\n  }\n\n  private getAnsi16mBackgroundString(id: string, ...rest: string[]) {\n    const rgb = this.getRgb(id)\n    return [this.wrapAnsi16m(` ${id} `, rgb, 10), ...rest]\n  }\n  private wrapAnsi16m(id: string, rgb, offset: number = 0) {\n    return `\\u001B[${38 + offset};2;${rgb[0]};${rgb[1]};${rgb[2]}m` + id + `\\u001B[${39 + offset}m`\n  }\n}\n","import { RGB, createColorsFromMap, rgbHex } from 'color-map'\n\nimport { rainbow } from './colors'\nimport { BrushOption, Brush } from './interfaces'\n\nexport class CSSBrush implements Brush {\n  private count = 0\n  private colors: RGB[]\n  private map: { [index: string]: RGB } = {}\n  private option: BrushOption\n\n  constructor(option: Partial<BrushOption> = {}) {\n    this.option = {\n      maxColor: option.maxColor || 20,\n      coloringText: option.coloringText || false\n    }\n    this.colors = createColorsFromMap(rainbow, option.maxColor || 20)\n  }\n\n  color(id: string, ...rest: string[]) {\n    // TODO style (italic, bold, underscore) rotation\n    const rgb = this.getRgb(id)\n    const background = rgbHex(rgb)\n    const border = rgbHex(rgb.map(x => Math.max(0, x - 32)))\n    const color = rgb.every(x => x < 220) ? '#ffffff' : '#000000'\n\n    return [`%c ${id} `, `padding: 2px; margin: 2px; line-height: 1.8em;background: ${background};bother: 1px solid ${border};color: ${color};`, ...rest]\n  }\n\n  private getRgb(text: string) {\n    // It is ok to overlep color.\n    // Not trying to be too smart about it.\n    return this.map[text] = this.map[text] || this.colors[this.count++ % this.option.maxColor]\n  }\n}\n","import { Logger } from 'aurelia-logging'\n\nimport { BrushOption, Brush } from './interfaces'\nimport { createBrush } from './createBrush'\n\nexport interface ColorAppenderOption extends BrushOption { }\n\n/**\n * A colored console log.\n * Color only apply to Chrome, Firefox, and NodeJS.\n * Other will behave like `ConsoleAppender`\n */\nexport class ColorAppender {\n  private brush: Brush\n  constructor(option?: ColorAppenderOption) {\n    this.brush = createBrush(option)\n  }\n  error(logger: Logger, ...rest: any[]) {\n    console.error.apply(console, this.brush.color(logger.id, ...rest))\n  }\n  warn(logger: Logger, ...rest: any[]) {\n    console.warn.apply(console, this.brush.color(logger.id, ...rest))\n  }\n  info(logger: Logger, ...rest: any[]) {\n    console.info.apply(console, this.brush.color(logger.id, ...rest))\n  }\n  debug(logger: Logger, ...rest: any[]) {\n    (console.debug || console.log).apply(console, this.brush.color(logger.id, ...rest))\n  }\n}\n","/*\n * Copyright(c) Palo Alto Networks, Inc.\n * Created by hwong on 01/06/2016\n */\n\nexport * from './ColorAppender'\n"],"names":["defaultSetTimout","Error","defaultClearTimeout","runTimeout","fun","cachedSetTimeout","setTimeout","e","call","this","runClearTimeout","marker","cachedClearTimeout","clearTimeout","cleanUpNextTick","draining","currentQueue","length","queue","concat","queueIndex","drainQueue","timeout","len","run","nextTick","args","Array","arguments","i","push","Item","array","noop","binding","name","cwd","chdir","dir","umask","hrtime","previousTimestamp","clocktime","performanceNow","performance","seconds","Math","floor","nanoseconds","uptime","currentTime","Date","dif","startTime","from","to","shades","alpha","rgba","start","diff","inc","max","color","round","colormap","result","steps","index","n","rgb","createColors_1","hex","d2h","d","s","toString","join","baseCodes","backgroundColors","map","x","filter","brighten","dimmed","underscored","option","css","undefined","environments_1","ansi16m","ansi","CSSBrush_1","Ansi16mBrush_1","AnsiBrush_1","PlainBrush","global","self","window","prototype","apply","title","platform","browser","env","argv","version","versions","release","config","on","addListener","once","off","removeListener","removeAllListeners","emit","now","mozNow","msNow","oNow","webkitNow","getTime","userAgent","navigator","vendor","process","majorVersion","parseInt","os_1","split","isChrome","test","isFirefox","isNode","module","exports","isWindow","supportCSSColor","supportAnsiColor","supportAnsi16mColor","calculatedCodes","__export","maxColor","coloringText","colors_1","m","colors","color_map_1","colorAnsi16m","getAnsi16mBackgroundString","Ansi16mBrush","text","count","id","_i","rest","getRgb","wrapAnsi16m","offset","codes","createColorCodes","AnsiBrush","getCodes","wrapAnsi","code","some","CSSBrush","background","border","every","brush","createBrush_1","ColorAppender","logger","console","error","_a","warn","info","debug","log"],"mappings":"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"}